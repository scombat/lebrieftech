---
title: "Comment faire tourner QuickJS avec Rust sur OpenWrt : Guide détaillé"
seoTitle: "Intégrer QuickJS avec Rust sur OpenWrt facilement"
seoDescription: "Apprenez à exécuter l'engin QuickJS avec Rust sur OpenWrt grâce à ce guide étape par étape pour développer des applications puissantes et rapides."
datePublished: Sat Nov 29 2025 13:36:13 GMT+0000 (Coordinated Universal Time)
cuid: cmikc4c51000002l767c66lv8
slug: integrer-quickjs-avec-rust-sur-openwrt-facilement
canonical: https://dev.to/ahaoboy/running-quickjs-engine-with-rust-on-openwrt-4fpd

---

# Comment faire tourner QuickJS avec Rust sur OpenWrt : Guide détaillé

## TL;DR

- **QuickJS** est un moteur JavaScript léger, idéal pour les environnements à ressources limitées comme **OpenWrt**.
- L’installation nécessite plusieurs dépendances, dont **git**, **python3**, **make**, **gcc**, et **CMake**.
- Vous utiliserez **rustup** pour configurer Rust, ce qui facilite le déploiement des applications Rust sur OpenWrt.
- Le projet **rquickjs-cli** permet d'exécuter des scripts QuickJS en Rust.
- Suivez ce guide pour une mise en place rapide et efficace dans vos projets!

## Introduction à QuickJS et OpenWrt

**QuickJS** est un moteur JavaScript compact et performant, conçu par Fabrice Bellard. Il permet d’exécuter des scripts JavaScript avec un faible encombrement mémoire et une vitesse impressionnante. Grâce à ses fonctionnalités avancées, il est particulièrement adapté aux environnements contraints comme OpenWrt.

Parmi ses avantages, on retrouve la prise en charge des **promesses**, des **classes**, des **modèles**, des **asynchronous generators**, et même des **modules ES6**. Sa simplicité de mise en œuvre et son efficacité en font une solution idéale pour les développeurs cherchant à intégrer du JavaScript dans des environnements embarqués.

**OpenWrt** est, lui, un système d’exploitation Linux minimaliste et hautement personnalisable, dédié aux appareils embarqués tels que les routeurs réseau. Grâce à son architecture flexible, il prend en charge une large gamme de matériels et permet de développer des solutions sur mesure pour des cas d’usage comme la domotique, le réseau et les objets connectés.

Associer QuickJS et Rust sur OpenWrt offre une combinaison puissante pour les développeurs souhaitant créer des applications légères, rapides et adaptées aux appareils à faible capacité.

---

## Installation des dépendances nécessaires

Pour commencer, assurez-vous que votre environnement OpenWrt dispose des outils basiques de développement nécessaires. Voici une liste de dépendances à installer avant de poursuivre :

1. **Git** : pour pouvoir cloner les projets dont nous aurons besoin.
2. **Python3** : utilisé par certains outils tels que CMake.
3. **Make** et **GCC** : outils de compilation essentiels.
4. **CMake** : pour générer efficacement des fichiers de build.

Sur un système OpenWrt, vous pouvez installer ces outils via le gestionnaire de paquets `opkg`. Voici les commandes nécessaires :

```bash
opkg update
opkg install git python3 make gcc
```

### Installation de CMake

L’installation de **CMake**, essentielle pour le projet, nécessite quelques étapes supplémentaires. Le gestionnaire de paquets **pip** permet d’installer CMake directement :

```bash
pip install cmake
```

Vous pouvez vérifier que CMake a bien été installé en exécutant la commande suivante :

```bash
cmake --version
```

Cela doit afficher la version de CMake installée sur votre système.

---

## Installation de Rust via rustup

Rust est un langage moderne conçu pour offrir à la fois performances et sécurité. Pour installer Rust sur votre environnement OpenWrt, vous utiliserez **rustup**, le gestionnaire d’installation officiel de Rust.

Voici les étapes à suivre pour installer Rust :

1. Téléchargez et installez rustup avec la commande suivante :

```bash
curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh
```

2. Configurez votre environnement shell pour prendre en charge Rust (assurez-vous de recharger le shell après l’installation) :

```bash
source $HOME/.cargo/env
```

Vous pouvez vérifier que Rust est installé correctement en exécutant :

```bash
rustc --version
```

Rustup vous permet également de gérer facilement les versions multiples de Rust et simplifie le processus de mise à jour.

---

## Test du rquickjs-cli et exécution de QuickJS

Une fois Rust correctement installé, vous pouvez tester l’exécution de **QuickJS** via le projet **rquickjs-cli**, un outil qui combine QuickJS et Rust pour un usage encore plus performant.

### Installation de rquickjs-cli

Pour obtenir le projet rquickjs-cli et l'utiliser, commencez par cloner le repository Git et construisez-le avec Rust :

```bash
git clone https://github.com/saghul/rquickjs-cli.git
cd rquickjs-cli
cargo build --release
```

Une fois la compilation terminée, vous pouvez appeler le CLI directement depuis le dossier compilé. Par exemple :

```bash
./target/release/rquickjs-cli -e 'console.log("Hello from QuickJS and Rust!")'
```

Cette commande exécute un simple script JavaScript avec QuickJS tournant sur Rust.

### Tester sur OpenWrt

Cela peut être testé directement sur le système OpenWrt en redéployant l'exécutable généré. Une fois le binaire en place sur votre appareil, vous pouvez exécuter un fichier JavaScript à l’aide d’une commande similaire :

```bash
./rquickjs <votre_script.js>
```

---

QuickJS, couplé à un outil puissant comme Rust, permet aux développeurs de tirer parti des possibilités offertes par OpenWrt pour créer des applications dynamiques et ultra performantes. Que ce soit pour des objets connectés ou pour des environnements embarqués, ce guide vous offre une base solide pour démarrer vos projets!

[source](https://dev.to/ahaoboy/running-quickjs-engine-with-rust-on-openwrt-4fpd)